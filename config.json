{
  "bundle": {
    "name": "mist",
    "type": "foreign",
    "install": "bin/install.sh",
    "uninstall": "bin/uninstall.sh"
  },
  "templates": [],
  "permissions": ["mist:view", "mist:reboot", "mist:destroy"],
  "rules": ["when command is mist:ec2-find must have mist:view",
            "when command is mist:ec2-reboot must have mist:reboot",
            "when command is mist:ec2-destroy must have mist:destroy",
            "when command is mist:s3-buckets must have mist:view"],
  "commands": [
    {
      "name": "ec2-find",
      "version": "0.1",
      "executable": "commands/ec2_find.py",
      "enforcing": true,
      "calling_convention": "bound",
      "env_vars": {
        "AWS_ACCESS_KEY_ID": "",
        "AWS_SECRET_ACCESS_KEY": "",
        "PYTHONPATH": "$INSTALL_PATH"
      },
      "documentation": "mist:ec2-find --region=<region> [--tags | --ami | --return]",
      "options": [
        {
          "type": "string",
          "required": true,
          "name": "region"
        },
        {
          "type": "string",
          "required": false,
          "name": "tags"
        },
        {
          "type": "string",
          "required": false,
          "name": "ami"
        },
        {
          "type": "string",
          "required": false,
          "name": "return"
        }
      ]
    },
    {
      "name": "ec2-reboot",
      "version": "0.1",
      "executable": "commands/ec2_reboot.py",
      "enforcing": true,
      "calling_convention": "bound",
      "env_vars": {
        "AWS_ACCESS_KEY_ID": "",
        "AWS_SECRET_ACCESS_KEY": "",
        "PYTHONPATH": "$INSTALL_PATH"
      },
      "documentation": "mist:ec2-reboot --region=<region> <instance_id>...",
      "options": [
        {
          "type": "string",
          "required": true,
          "name": "region"
        }
      ]
    },
    {
      "name": "ec2-destroy",
      "version": "0.1",
      "executable": "commands/ec2_destroy.py",
      "enforcing": true,
      "calling_convention": "bound",
      "env_vars": {
        "AWS_ACCESS_KEY_ID": "",
        "AWS_SECRET_ACCESS_KEY": "",
        "PYTHONPATH": "$INSTALL_PATH"
      },
      "documentation": "mist:ec2-destroy --region=<region> <instance_id>...",
      "options": [
        {
          "type": "string",
          "required": true,
          "name": "region"
        }
      ]
    },
    {
      "name": "s3-buckets",
      "version": "0.1",
      "executable": "commands/s3_buckets.py",
      "enforcing": true,
      "calling_convention": "bound",
      "env_vars": {
        "AWS_ACCESS_KEY_ID": "",
        "AWS_SECRET_ACCESS_KEY": "",
        "PYTHONPATH": "$INSTALL_PATH"
      },
      "documentation": "List S3 buckets",
      "options": [
        {
          "type": "bool",
          "required": false,
          "name": "delete"
        },
        {
          "type": "bool",
          "required": false,
          "name": "force"
        }
      ]
    }
  ]
}
